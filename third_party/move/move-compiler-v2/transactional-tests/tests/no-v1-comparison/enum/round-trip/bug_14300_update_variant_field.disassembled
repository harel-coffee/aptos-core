//**** Cross-compiled for `masm` syntax from `tests/no-v1-comparison/enum/bug_14300_update_variant_field.move`

//# publish
// Bytecode version v8
module 0x815::m
enum CommonFields has drop
  Foo
    x: u64
    y: u8
  Bar
    x: u64
    y: u8
    z: u32
  Baz
    y: u8

// Function definition at index 0
fun update_common_field(): u64
    local l0: CommonFields
    ld_u64 30
    ld_u8 40
    ld_u32 50
    pack_variant CommonFields, Bar
    st_loc l0
    // @5
    ld_u64 15
    mut_borrow_loc l0
    mut_borrow_variant_field CommonFields, Foo::x, Bar::x
    write_ref
    borrow_loc l0
    // @10
    borrow_variant_field CommonFields, Foo::x, Bar::x
    read_ref
    ret

// Function definition at index 1
fun update_common_field_different_offset(): u8
    local l0: CommonFields
    local l1: u8
    local l2: &mut CommonFields
    local l3: &mut u8
    local l4: &CommonFields
    local l5: &u8
    ld_u64 30
    ld_u8 40
    ld_u32 50
    pack_variant CommonFields, Bar
    st_loc l0
    // @5
    ld_u8 15
    st_loc l1
    mut_borrow_loc l0
    st_loc l2
    copy_loc l2
    // @10
    test_variant CommonFields, Foo
    br_false l0
    branch l1
l1: move_loc l2
    mut_borrow_variant_field CommonFields, Foo::y, Bar::y
    // @15
    st_loc l3
l7: move_loc l1
    move_loc l3
    write_ref
    borrow_loc l0
    // @20
    st_loc l4
    copy_loc l4
    test_variant CommonFields, Foo
    br_false l2
    branch l3
    // @25
l3: move_loc l4
    borrow_variant_field CommonFields, Foo::y, Bar::y
    st_loc l5
l5: move_loc l5
    read_ref
    // @30
    ret
l2: copy_loc l4
    test_variant CommonFields, Bar
    br_false l4
    branch l3
    // @35
l4: move_loc l4
    borrow_variant_field CommonFields, Baz::y
    st_loc l5
    branch l5
l0: copy_loc l2
    // @40
    test_variant CommonFields, Bar
    br_false l6
    branch l1
l6: move_loc l2
    mut_borrow_variant_field CommonFields, Baz::y
    // @45
    st_loc l3
    branch l7

// Function definition at index 2
fun update_non_common_field(): u32
    local l0: CommonFields
    ld_u64 30
    ld_u8 40
    ld_u32 50
    pack_variant CommonFields, Bar
    st_loc l0
    // @5
    ld_u32 15
    mut_borrow_loc l0
    mut_borrow_variant_field CommonFields, Bar::z
    write_ref
    borrow_loc l0
    // @10
    borrow_variant_field CommonFields, Bar::z
    read_ref
    ret



//# run 0x815::m::update_common_field

//# run 0x815::m::update_non_common_field

//# run 0x815::m::update_common_field_different_offset